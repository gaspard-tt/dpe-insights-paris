import React, { createContext, useContext, useState, useCallback } from "react";

export type Language = "fr" | "en";

interface I18nContextType {
  lang: Language;
  toggleLang: () => void;
  t: (key: string) => string;
}

const I18nContext = createContext<I18nContextType | null>(null);

export const useI18n = () => {
  const ctx = useContext(I18nContext);
  if (!ctx) throw new Error("useI18n must be used within I18nProvider");
  return ctx;
};

const translations: Record<Language, Record<string, string>> = {
  fr: {
    // Header
    "nav.home": "Accueil",
    "nav.diagnostic": "Diagnostic",
    "nav.results": "Résultats",
    "app.name": "Mon DPE",

    // Index page
    "hero.badge": "Simulateur DPE gratuit",
    "hero.title.1": "Comprenez la performance",
    "hero.title.highlight": "énergétique",
    "hero.title.2": "de votre logement",
    "hero.desc": "Estimez votre classe DPE, identifiez les points faibles de votre habitat et découvrez les rénovations les plus efficaces pour réduire vos factures.",
    "hero.cta": "Lancer mon diagnostic",
    "hero.sub": "Gratuit · 5 minutes · Sans inscription",
    "dpe.title": "Qu'est-ce que le DPE ?",
    "dpe.desc": "Le Diagnostic de Performance Énergétique classe les logements de A (très performant) à G (très énergivore). Il est obligatoire pour vendre ou louer un bien en France.",
    "why.title": "Pourquoi c'est important",
    "why.bills.title": "Réduire vos factures",
    "why.bills.desc": "Un logement classe G consomme jusqu'à 6 fois plus qu'un logement classe A. Comprendre votre DPE, c'est identifier où partent vos euros.",
    "why.regulation.title": "Anticiper la réglementation",
    "why.regulation.desc": "Depuis 2025, les logements classe G sont interdits à la location. Les classes F suivront en 2028, puis les E en 2034.",
    "why.value.title": "Valoriser votre bien",
    "why.value.desc": "Un bon DPE augmente la valeur de votre logement. L'écart de prix entre une classe D et une classe B peut atteindre 10 à 15%.",
    "tool.title": "Ce que cet outil vous apporte",
    "tool.desc": "Plus qu'un simple score : un diagnostic complet et des recommandations personnalisées.",
    "tool.estimate.title": "Estimation de votre classe DPE",
    "tool.estimate.desc": "Un score basé sur les caractéristiques réelles de votre logement.",
    "tool.losses.title": "Analyse des déperditions",
    "tool.losses.desc": "Identifiez précisément où et pourquoi votre logement perd de l'énergie.",
    "tool.reco.title": "Recommandations de rénovation",
    "tool.reco.desc": "Des priorités claires, classées par rapport coût/efficacité.",
    "tool.edu.title": "Contenu éducatif",
    "tool.edu.desc": "Comprenez les mécanismes pour prendre des décisions éclairées.",
    "cta.title": "Prêt à comprendre votre logement ?",
    "cta.desc": "En 6 étapes simples, obtenez une analyse complète de la performance énergétique de votre habitat et des pistes concrètes d'amélioration.",
    "cta.button": "Commencer mon analyse",
    "footer.disclaimer": "Cet outil fournit une estimation indicative. Il ne remplace pas un DPE officiel réalisé par un diagnostiqueur certifié.",
    "footer.copy": "Mon DPE — Simulateur éducatif de performance énergétique",

    // Questionnaire
    "wizard.step": "Étape",
    "wizard.prev": "Précédent",
    "wizard.next": "Suivant",
    "wizard.submit": "Voir mes résultats",
    "step.general": "Général",
    "step.envelope": "Enveloppe",
    "step.heating": "Chauffage",
    "step.energy": "Énergie",
    "step.ventilation": "Ventilation",
    "step.usage": "Usages",

    // StepGeneralInfo
    "general.housing_type": "Type de logement",
    "general.housing_type.help": "Une maison a plus de surfaces en contact avec l'extérieur qu'un appartement, ce qui augmente les pertes thermiques.",
    "general.apartment": "Appartement",
    "general.house": "Maison",
    "general.surface": "Surface habitable (m²)",
    "general.surface.help": "La surface permet de rapporter la consommation au mètre carré, base du DPE.",
    "general.construction": "Période de construction",
    "general.construction.help": "Les réglementations thermiques ont évolué. Avant 1974, il n'y avait généralement aucune isolation.",
    "general.idk": "Je ne sais pas",
    "general.idk.desc": "Nous utiliserons une estimation moyenne",
    "general.climate": "Zone climatique",
    "general.climate.help": "Le climat influence directement les besoins de chauffage.",
    "general.h1": "H1 — Nord & Est",
    "general.h1.desc": "Hivers froids",
    "general.h2": "H2 — Ouest & Centre",
    "general.h2.desc": "Tempéré",
    "general.h3": "H3 — Sud",
    "general.h3.desc": "Hivers doux",

    // StepEnvelope
    "envelope.wall": "Isolation des murs",
    "envelope.wall.help": "Les murs représentent 20 à 25% des pertes thermiques.",
    "envelope.roof": "Isolation de la toiture",
    "envelope.roof.help": "La toiture est le premier poste de déperdition thermique.",
    "envelope.floor": "Isolation du plancher",
    "envelope.floor.help": "Le plancher bas contribue aux pertes thermiques du logement.",
    "envelope.insulation.none": "Aucune",
    "envelope.insulation.none.desc": "Pas d'isolation connue",
    "envelope.insulation.poor": "Faible",
    "envelope.insulation.poor.desc": "Isolation ancienne ou partielle",
    "envelope.insulation.average": "Moyenne",
    "envelope.insulation.average.desc": "Isolation standard",
    "envelope.insulation.good": "Bonne",
    "envelope.insulation.good.desc": "Bonne performance thermique",
    "envelope.insulation.excellent": "Excellente",
    "envelope.insulation.excellent.desc": "Isolation très performante",
    "envelope.insulation.idk": "Je ne sais pas",
    "envelope.insulation.idk.desc": "Nous utiliserons une valeur moyenne pour estimer.",
    "envelope.window_type": "Type de vitrage",
    "envelope.window_type.help": "Le vitrage influence fortement les pertes thermiques et le confort.",
    "envelope.window.single": "Simple vitrage",
    "envelope.window.single.desc": "Très peu isolant",
    "envelope.window.double": "Double vitrage",
    "envelope.window.double.desc": "Standard actuel",
    "envelope.window.triple": "Triple vitrage",
    "envelope.window.triple.desc": "Très performant",
    "envelope.window.idk": "Je ne sais pas",
    "envelope.window.idk.desc": "Nous utiliserons une valeur moyenne",
    "envelope.orientation": "Orientation principale",
    "envelope.orientation.help": "L'orientation sud permet de bénéficier des apports solaires en hiver.",
    "envelope.orientation.desc": "Orientation principale du logement",
    "envelope.orientation.idk": "Je ne sais pas",
    "envelope.orientation.idk.desc": "Nous utiliserons une valeur moyenne",

    // StepHeating
    "heating.type": "Type de chauffage principal",
    "heating.type.help": "Le système de chauffage a un impact majeur sur la consommation. Une pompe à chaleur peut consommer jusqu'à 3 fois moins que des convecteurs.",
    "heating.electric_convector": "Convecteurs électriques (grille-pain)",
    "heating.electric_radiant": "Radiateurs électriques (inertie / rayonnant)",
    "heating.gas_boiler": "Chaudière gaz classique",
    "heating.gas_condensing": "Chaudière gaz à condensation",
    "heating.fuel_boiler": "Chaudière fioul",
    "heating.heat_pump": "Pompe à chaleur",
    "heating.wood": "Bois / granulés",
    "heating.idk": "Je ne sais pas",
    "heating.idk.desc": "Nous utiliserons une estimation moyenne",
    "heating.age": "Âge du système de chauffage",
    "heating.age.help": "Un système ancien peut consommer 20 à 40% de plus qu'un équipement récent.",
    "heating.age.less5": "Moins de 5 ans",
    "heating.age.5to15": "5 à 15 ans",
    "heating.age.15to25": "15 à 25 ans",
    "heating.age.more25": "Plus de 25 ans",
    "heating.distribution": "Système de distribution",
    "heating.distribution.help": "Le plancher chauffant fonctionne à basse température et améliore le rendement.",
    "heating.radiators": "Radiateurs",
    "heating.floor_heating": "Plancher chauffant",

    // StepEnergy
    "energy.title": "Source d'énergie principale du logement",
    "energy.help": "Le type d'énergie influence fortement le DPE, à cause du facteur de conversion en énergie primaire utilisé dans le calcul officiel.",
    "energy.electricity": "Électricité",
    "energy.electricity.desc": "Énergie la plus courante, pénalisée dans le calcul DPE (facteur 2.3).",
    "energy.gas": "Gaz naturel",
    "energy.gas.desc": "Moins pénalisant que l'électricité pour le chauffage.",
    "energy.fuel": "Fioul",
    "energy.fuel.desc": "Énergie fossile en voie d'interdiction, très défavorable au DPE.",
    "energy.renewable": "Énergies renouvelables",
    "energy.renewable.desc": "Bois, solaire, géothermie… très favorable au DPE.",
    "energy.hybrid": "Mixte / Hybride",
    "energy.hybrid.desc": "Combinaison de plusieurs sources d'énergie.",
    "energy.unknown": "Je ne sais pas",
    "energy.unknown.desc": "Nous utiliserons la configuration la plus courante pour estimer votre situation.",

    // StepVentilation
    "ventilation.type": "Type de ventilation",
    "ventilation.type.help": "La ventilation représente jusqu'à 25% des pertes thermiques. Une VMC double flux récupère la chaleur de l'air sortant.",
    "ventilation.natural": "Ventilation naturelle",
    "ventilation.natural.desc": "Aération par ouverture des fenêtres, pertes non contrôlées",
    "ventilation.vmc_simple": "VMC simple flux",
    "ventilation.vmc_simple.desc": "Extraction mécanique, fonctionnement standard",
    "ventilation.vmc_double": "VMC double flux",
    "ventilation.vmc_double.desc": "Récupération de 70–90% de la chaleur, très performante",
    "ventilation.idk": "Je ne sais pas",
    "ventilation.idk.desc": "Nous utiliserons une estimation moyenne",
    "ventilation.leakage": "Fuites d'air perçues",
    "ventilation.leakage.help": "Les infiltrations d'air peuvent augmenter la consommation de chauffage de 10 à 25%.",
    "ventilation.none": "Aucune — logement bien étanche",
    "ventilation.slight": "Légères — quelques courants d'air",
    "ventilation.moderate": "Modérées — courants d'air notables",
    "ventilation.significant": "Importantes — infiltrations évidentes",

    // StepOccupancy
    "occupancy.count": "Nombre d'occupants",
    "occupancy.count.help": "Le nombre d'occupants influence l'eau chaude, la ventilation et les apports de chaleur internes.",
    "occupancy.person": "personne",
    "occupancy.persons": "personnes",
    "occupancy.6plus": "6 personnes ou plus",
    "occupancy.idk": "Je ne sais pas",
    "occupancy.idk.desc": "Nous utiliserons une estimation moyenne",
    "occupancy.heating_habits": "Habitudes de chauffage",
    "occupancy.heating_habits.help": "Chaque degré en plus augmente la consommation d'environ 7%.",
    "occupancy.low": "Faible — ~18°C, pièces fermées",
    "occupancy.average": "Moyen — 19-20°C, confort standard",
    "occupancy.high": "Élevé — 21°C+, toutes pièces chauffées",
    "occupancy.hot_water": "Consommation d'eau chaude",
    "occupancy.hot_water.help": "Les bains consomment 3 à 5 fois plus que les douches.",
    "occupancy.hw_low": "Faible — douches courtes, peu fréquentes",
    "occupancy.hw_average": "Moyen — douches quotidiennes",
    "occupancy.hw_high": "Élevé — bains fréquents, longs",

    // Results page
    "results.none.title": "Aucun résultat disponible",
    "results.none.desc": "Vous devez d'abord compléter le questionnaire pour obtenir votre diagnostic.",
    "results.none.cta": "Commencer le diagnostic",
    "results.title": "Votre diagnostic énergétique estimé",
    "results.subtitle": "Basé sur les caractéristiques de votre logement",
    "results.class": "Classe estimée",
    "results.consumption": "Consommation estimée",
    "results.disclaimer": "Estimation indicative. Ce résultat ne remplace pas un DPE officiel réalisé par un diagnostiqueur certifié. Il vous permet de comprendre les facteurs clés de votre performance énergétique.",
    "results.breakdown": "Répartition de la consommation",
    "results.breakdown.heating": "Chauffage",
    "results.breakdown.hotwater": "Eau chaude",
    "results.breakdown.envelope": "Pertes d'enveloppe",
    "results.weaknesses": "Points faibles identifiés",
    "results.cat.envelope": "Enveloppe",
    "results.cat.heating": "Chauffage",
    "results.cat.ventilation": "Ventilation",
    "results.impact.high": "Impact élevé",
    "results.impact.medium": "Impact moyen",
    "results.impact.low": "Impact faible",
    "results.recommendations": "Recommandations de rénovation",
    "results.priority.high": "Priorité haute",
    "results.priority.medium": "Priorité moyenne",
    "results.priority.low": "Priorité basse",
    "results.saving": "d'économies",
    "results.dpe_impact": "Impact DPE",
    "results.comfort": "Confort",
    "results.bill": "Facture",
    "results.edu.title": "Comprendre pour mieux rénover",
    "results.edu.1.title": "Le DPE est un indicateur, pas une fatalité",
    "results.edu.1.desc": "Votre classe énergétique est déterminée par des facteurs identifiables et mesurables : l'enveloppe du bâtiment, le système de chauffage et vos usages. Chaque point faible peut être amélioré de façon ciblée.",
    "results.edu.2.title": "Ciblez le maillon le plus faible",
    "results.edu.2.desc": "La rénovation la plus efficace est celle qui s'attaque au plus gros point faible. Changer de chauffage sans isoler revient à chauffer l'extérieur. Inversement, une bonne isolation réduit les besoins et permet de dimensionner un système de chauffage plus petit et moins coûteux.",
    "results.edu.3.title": "Le meilleur investissement n'est pas le plus gros",
    "results.edu.3.desc": "L'isolation des combles ou le traitement des fuites d'air sont souvent les travaux les moins chers mais parmi les plus efficaces. Priorisez le rapport coût/efficacité plutôt que les travaux les plus visibles.",
    "results.redo": "Refaire le diagnostic",
  },
  en: {
    // Header
    "nav.home": "Home",
    "nav.diagnostic": "Diagnostic",
    "nav.results": "Results",
    "app.name": "My EPC",

    // Index page
    "hero.badge": "Free EPC Simulator",
    "hero.title.1": "Understand the energy",
    "hero.title.highlight": "performance",
    "hero.title.2": "of your home",
    "hero.desc": "Estimate your EPC class, identify your home's weak points, and discover the most effective renovations to reduce your bills.",
    "hero.cta": "Start my diagnostic",
    "hero.sub": "Free · 5 minutes · No sign-up",
    "dpe.title": "What is EPC?",
    "dpe.desc": "The Energy Performance Certificate rates homes from A (very efficient) to G (very energy-intensive). It is mandatory for selling or renting property in France.",
    "why.title": "Why it matters",
    "why.bills.title": "Reduce your bills",
    "why.bills.desc": "A class G home consumes up to 6 times more than a class A. Understanding your EPC means identifying where your money goes.",
    "why.regulation.title": "Anticipate regulations",
    "why.regulation.desc": "Since 2025, class G homes are banned from rental. Class F follows in 2028, then E in 2034.",
    "why.value.title": "Increase your property value",
    "why.value.desc": "A good EPC increases your home's value. The price gap between class D and class B can reach 10 to 15%.",
    "tool.title": "What this tool offers",
    "tool.desc": "More than just a score: a complete diagnostic with personalized recommendations.",
    "tool.estimate.title": "EPC class estimation",
    "tool.estimate.desc": "A score based on the actual characteristics of your home.",
    "tool.losses.title": "Heat loss analysis",
    "tool.losses.desc": "Identify precisely where and why your home loses energy.",
    "tool.reco.title": "Renovation recommendations",
    "tool.reco.desc": "Clear priorities, ranked by cost-effectiveness.",
    "tool.edu.title": "Educational content",
    "tool.edu.desc": "Understand the mechanisms to make informed decisions.",
    "cta.title": "Ready to understand your home?",
    "cta.desc": "In 6 simple steps, get a complete analysis of your home's energy performance and concrete improvement paths.",
    "cta.button": "Start my analysis",
    "footer.disclaimer": "This tool provides an indicative estimate. It does not replace an official EPC performed by a certified assessor.",
    "footer.copy": "My EPC — Educational energy performance simulator",

    // Questionnaire
    "wizard.step": "Step",
    "wizard.prev": "Previous",
    "wizard.next": "Next",
    "wizard.submit": "See my results",
    "step.general": "General",
    "step.envelope": "Envelope",
    "step.heating": "Heating",
    "step.energy": "Energy",
    "step.ventilation": "Ventilation",
    "step.usage": "Usage",

    // StepGeneralInfo
    "general.housing_type": "Housing type",
    "general.housing_type.help": "A house has more surface in contact with the outside than an apartment, which increases heat losses.",
    "general.apartment": "Apartment",
    "general.house": "House",
    "general.surface": "Living area (m²)",
    "general.surface.help": "The surface area is used to calculate consumption per square meter, the basis of EPC.",
    "general.construction": "Construction period",
    "general.construction.help": "Thermal regulations have evolved. Before 1974, there was generally no insulation.",
    "general.idk": "I don't know",
    "general.idk.desc": "We will use an average estimate",
    "general.climate": "Climate zone",
    "general.climate.help": "Climate directly influences heating needs.",
    "general.h1": "H1 — North & East",
    "general.h1.desc": "Cold winters",
    "general.h2": "H2 — West & Center",
    "general.h2.desc": "Temperate",
    "general.h3": "H3 — South",
    "general.h3.desc": "Mild winters",

    // StepEnvelope
    "envelope.wall": "Wall insulation",
    "envelope.wall.help": "Walls account for 20 to 25% of heat losses.",
    "envelope.roof": "Roof insulation",
    "envelope.roof.help": "The roof is the primary source of heat loss.",
    "envelope.floor": "Floor insulation",
    "envelope.floor.help": "The ground floor contributes to the home's heat losses.",
    "envelope.insulation.none": "None",
    "envelope.insulation.none.desc": "No known insulation",
    "envelope.insulation.poor": "Poor",
    "envelope.insulation.poor.desc": "Old or partial insulation",
    "envelope.insulation.average": "Average",
    "envelope.insulation.average.desc": "Standard insulation",
    "envelope.insulation.good": "Good",
    "envelope.insulation.good.desc": "Good thermal performance",
    "envelope.insulation.excellent": "Excellent",
    "envelope.insulation.excellent.desc": "Very high-performance insulation",
    "envelope.insulation.idk": "I don't know",
    "envelope.insulation.idk.desc": "We will use an average value to estimate.",
    "envelope.window_type": "Glazing type",
    "envelope.window_type.help": "Glazing strongly influences heat losses and comfort.",
    "envelope.window.single": "Single glazing",
    "envelope.window.single.desc": "Very poor insulation",
    "envelope.window.double": "Double glazing",
    "envelope.window.double.desc": "Current standard",
    "envelope.window.triple": "Triple glazing",
    "envelope.window.triple.desc": "Very high performance",
    "envelope.window.idk": "I don't know",
    "envelope.window.idk.desc": "We will use an average value",
    "envelope.orientation": "Main orientation",
    "envelope.orientation.help": "South orientation allows benefiting from solar gains in winter.",
    "envelope.orientation.desc": "Main orientation of the home",
    "envelope.orientation.idk": "I don't know",
    "envelope.orientation.idk.desc": "We will use an average value",

    // StepHeating
    "heating.type": "Main heating type",
    "heating.type.help": "The heating system has a major impact on consumption. A heat pump can consume up to 3 times less than convectors.",
    "heating.electric_convector": "Electric convectors",
    "heating.electric_radiant": "Electric radiators (inertia / radiant)",
    "heating.gas_boiler": "Standard gas boiler",
    "heating.gas_condensing": "Condensing gas boiler",
    "heating.fuel_boiler": "Oil boiler",
    "heating.heat_pump": "Heat pump",
    "heating.wood": "Wood / pellets",
    "heating.idk": "I don't know",
    "heating.idk.desc": "We will use an average estimate",
    "heating.age": "Heating system age",
    "heating.age.help": "An old system can consume 20 to 40% more than a recent one.",
    "heating.age.less5": "Less than 5 years",
    "heating.age.5to15": "5 to 15 years",
    "heating.age.15to25": "15 to 25 years",
    "heating.age.more25": "Over 25 years",
    "heating.distribution": "Distribution system",
    "heating.distribution.help": "Underfloor heating operates at low temperature and improves efficiency.",
    "heating.radiators": "Radiators",
    "heating.floor_heating": "Underfloor heating",

    // StepEnergy
    "energy.title": "Main energy source of the home",
    "energy.help": "The type of energy strongly influences the EPC, due to the primary energy conversion factor used in the official calculation.",
    "energy.electricity": "Electricity",
    "energy.electricity.desc": "Most common energy, penalized in EPC calculation (factor 2.3).",
    "energy.gas": "Natural gas",
    "energy.gas.desc": "Less penalizing than electricity for heating.",
    "energy.fuel": "Fuel oil",
    "energy.fuel.desc": "Fossil energy being phased out, very unfavorable for EPC.",
    "energy.renewable": "Renewable energies",
    "energy.renewable.desc": "Wood, solar, geothermal… very favorable for EPC.",
    "energy.hybrid": "Mixed / Hybrid",
    "energy.hybrid.desc": "Combination of multiple energy sources.",
    "energy.unknown": "I don't know",
    "energy.unknown.desc": "We will use the most common configuration to estimate your situation.",

    // StepVentilation
    "ventilation.type": "Ventilation type",
    "ventilation.type.help": "Ventilation accounts for up to 25% of heat losses. A heat recovery ventilation system recovers heat from outgoing air.",
    "ventilation.natural": "Natural ventilation",
    "ventilation.natural.desc": "Aeration by opening windows, uncontrolled losses",
    "ventilation.vmc_simple": "Single-flow mechanical ventilation",
    "ventilation.vmc_simple.desc": "Mechanical extraction, standard operation",
    "ventilation.vmc_double": "Dual-flow mechanical ventilation",
    "ventilation.vmc_double.desc": "70–90% heat recovery, very efficient",
    "ventilation.idk": "I don't know",
    "ventilation.idk.desc": "We will use an average estimate",
    "ventilation.leakage": "Perceived air leaks",
    "ventilation.leakage.help": "Air infiltration can increase heating consumption by 10 to 25%.",
    "ventilation.none": "None — well-sealed home",
    "ventilation.slight": "Slight — some drafts",
    "ventilation.moderate": "Moderate — noticeable drafts",
    "ventilation.significant": "Significant — obvious infiltrations",

    // StepOccupancy
    "occupancy.count": "Number of occupants",
    "occupancy.count.help": "The number of occupants influences hot water, ventilation, and internal heat gains.",
    "occupancy.person": "person",
    "occupancy.persons": "persons",
    "occupancy.6plus": "6 or more persons",
    "occupancy.idk": "I don't know",
    "occupancy.idk.desc": "We will use an average estimate",
    "occupancy.heating_habits": "Heating habits",
    "occupancy.heating_habits.help": "Each additional degree increases consumption by about 7%.",
    "occupancy.low": "Low — ~18°C, closed rooms",
    "occupancy.average": "Average — 19-20°C, standard comfort",
    "occupancy.high": "High — 21°C+, all rooms heated",
    "occupancy.hot_water": "Hot water consumption",
    "occupancy.hot_water.help": "Baths consume 3 to 5 times more than showers.",
    "occupancy.hw_low": "Low — short, infrequent showers",
    "occupancy.hw_average": "Average — daily showers",
    "occupancy.hw_high": "High — frequent, long baths",

    // Results page
    "results.none.title": "No results available",
    "results.none.desc": "You must first complete the questionnaire to get your diagnostic.",
    "results.none.cta": "Start the diagnostic",
    "results.title": "Your estimated energy diagnostic",
    "results.subtitle": "Based on your home's characteristics",
    "results.class": "Estimated class",
    "results.consumption": "Estimated consumption",
    "results.disclaimer": "Indicative estimate. This result does not replace an official EPC performed by a certified assessor. It helps you understand the key factors of your energy performance.",
    "results.breakdown": "Consumption breakdown",
    "results.breakdown.heating": "Heating",
    "results.breakdown.hotwater": "Hot water",
    "results.breakdown.envelope": "Envelope losses",
    "results.weaknesses": "Identified weak points",
    "results.cat.envelope": "Envelope",
    "results.cat.heating": "Heating",
    "results.cat.ventilation": "Ventilation",
    "results.impact.high": "High impact",
    "results.impact.medium": "Medium impact",
    "results.impact.low": "Low impact",
    "results.recommendations": "Renovation recommendations",
    "results.priority.high": "High priority",
    "results.priority.medium": "Medium priority",
    "results.priority.low": "Low priority",
    "results.saving": "savings",
    "results.dpe_impact": "EPC Impact",
    "results.comfort": "Comfort",
    "results.bill": "Bill",
    "results.edu.title": "Understand to renovate better",
    "results.edu.1.title": "EPC is an indicator, not a fatality",
    "results.edu.1.desc": "Your energy class is determined by identifiable and measurable factors: the building envelope, the heating system, and your usage. Each weak point can be improved in a targeted way.",
    "results.edu.2.title": "Target the weakest link",
    "results.edu.2.desc": "The most effective renovation targets the biggest weakness. Changing heating without insulating is like heating the outdoors. Conversely, good insulation reduces needs and allows a smaller, cheaper heating system.",
    "results.edu.3.title": "The best investment isn't the biggest",
    "results.edu.3.desc": "Attic insulation or air leak treatment are often the cheapest but most effective works. Prioritize cost-effectiveness over the most visible works.",
    "results.redo": "Redo the diagnostic",
  },
};

export const I18nProvider = ({ children }: { children: React.ReactNode }) => {
  const [lang, setLang] = useState<Language>("fr");

  const toggleLang = useCallback(() => {
    setLang((prev) => (prev === "fr" ? "en" : "fr"));
  }, []);

  const t = useCallback(
    (key: string) => translations[lang][key] || key,
    [lang]
  );

  return (
    <I18nContext.Provider value={{ lang, toggleLang, t }}>
      {children}
    </I18nContext.Provider>
  );
};
